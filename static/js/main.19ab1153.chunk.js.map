{"version":3,"sources":["media/location2.png","media sync /^/marker/-icon/-.*/.png$","media/marker-icon-blue.png","media/marker-icon-gold.png","media/marker-icon-orange.png","media/marker-icon-red.png","components/AboutModal.jsx","components/HowToModal.jsx","components/AppBar.jsx","store.js","Keys.js","data.js","components/RouteInputRow.jsx","components/DatePicker.jsx","components/MarkerInfo.jsx","components/RouteInfoBox.jsx","components/RouteWindow.jsx","components/LocationMarker.jsx","components/Map.jsx","components/Marker.jsx","components/RoutingMachine.jsx","components/RouteTimePopup.jsx","components/MapWindow.jsx","App.jsx","hooks.js","index.js"],"names":["module","exports","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","show","setShowAboutModal","Modal","onHide","style","opacity","centered","Header","Title","className","Body","Footer","onClick","setShowHowToModal","src","alt","useState","burgerMenuNeeded","setBurgerMenuNeeded","showAboutModal","showHowToModal","menuOpen","setMenuOpen","useEffect","updateDimensions","window","innerWidth","addEventListener","removeEventListener","height","AboutModal","HowToModal","date","Date","ActionType","intialState","userLocation","mapMode","mapSpinner","routeToLocation","routeFromLocation","startDate","endDate","getTime","routeCoordinates","routeTime","heIncidents","heCurrent","hePlanned","tflSevere","tflCurrent","tflPlanned","markerInfo","mapReference","roadworkFilter","StoreContext","React","createContext","StateProvider","children","useReducer","state","action","type","payload","coordinates","time","filter","f","dispatch","Provider","value","MAPBOX_API_KEY","TflDisruption","getDates","today","toISOString","split","nextWeekDate","nextWeek","convertHeXmlToJson","htmlcollection","Array","from","incident","getRoadworkObject","reduce","acc","elem","tagName","hasOwnProperty","assign","innerHTML","a","console","log","Promise","all","fetch","heIncidentsResponse","heRoadworksResponse","tflResponse","text","json","heIncidentsText","heRoadworksText","tflJson","DOMParser","parser","heIncidentsXml","parseFromString","heRoadworksXml","ActiveXObject","async","loadXML","incidentItems","getElementsByTagName","newHeIncidents","roadworksItems","newRoadworks","startField","endField","current","planned","newHeRoadworksCurrent","newHeRoadworksPlanned","newTflSevere","newTflCurrent","newTflPlanned","severity","push","reverseLocationLookup","coords","latitude","longitude","url","then","result","getColor","roadwork","isTfl","JSON","parse","point","latLng","parseFloat","x","y","overallStart","startDateTime","overallEnd","endDateTime","title","location","category","category1","subCategory","category2","author","guid","link","reference","RouteInputRow","direction","options","setOptions","useContext","document","activeElement","blur","selected","labelKey","onInputChange","length","uriValue","encodeURIComponent","results","locationLookup","features","option","place_name","center","onChange","placeholder","maxResults","autoFocus","selectHintOnEnter","minLength","clearButton","data-tip","dateType","wide","setWide","width","Swal","fire","icon","minDate","maxDate","setFullYear","getFullYear","todayButton","shouldCloseOnSelect","popperPlacement","dateFormat","keyboardType","disabledKeyboardNavigation","info","color","toLocaleString","showMore","setShowMore","setView","href","target","rel","RouteInfoBox","severeTicked","includes","currentTicked","plannedTicked","handleCheckChange","event","checked","substr","display","flexDirection","name","htmlFor","RouteWindow","key","LocationMarker","L","iconUrl","require","iconSize","iconAnchor","popupAnchor","shadowSize","marker","addTo","bindPopup","removeLayer","spinnerOptions","lines","radius","scale","corners","fadeColor","speed","rotate","animation","zIndex","top","left","shadow","position","Map","mapRef","useRef","setMap","minZoom","tileLayer","attribution","on","latlng","lat","lng","off","spin","childrenWithMap","Children","child","cloneElement","ref","Marker","startEndTitle","RoutingMachine","routingControl","setRoutingControl","control","Routing","waypoints","router","mapbox","showAlternatives","lineOptions","styles","weight","altLineOptions","route","summary","totalTime","fitBounds","setWaypoints","RouteTimePopup","content","popup","closeOnClick","setLatLng","setContent","openOn","ky","arePointsNear","checkPoint","centerPoint","km","checkLatitude","checkLongitude","centerLatitude","centerLongitude","kx","Math","cos","PI","dx","abs","dy","sqrt","isPointNear","coord","MapWindow","routeFromMarker","routeToMarker","locationMarker","routeTimePopup","routeRoadworks","useMemo","selectedStart","selectedEnd","inDateRange","currentRoadworks","plannedRoadworks","severeRoadworks","roadworkMarkers","App","setLocation","error","setError","navigator","geolocation","getCurrentPosition","enableHighAccuracy","timeout","maximumAge","useGeolocation","locationError","fetchRoadworksData","data","delayShow","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.19ab1153.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","var map = {\n\t\"./marker-icon-blue.png\": 165,\n\t\"./marker-icon-gold.png\": 166,\n\t\"./marker-icon-orange.png\": 167,\n\t\"./marker-icon-red.png\": 168\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 164;","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","import React from \"react\"\r\nimport { Modal } from \"react-bootstrap\"\r\n\r\nexport default ({ show, setShowAboutModal }) => {\r\n  return (\r\n    <Modal show={show} onHide={() => setShowAboutModal(false)} style={{opacity:1}} centered>\r\n      <Modal.Header>\r\n        <Modal.Title>\r\n          <h1>\r\n            About <span className=\"drive-wise-font\">DriveWise</span>\r\n          </h1>\r\n        </Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <h2>What is <span className=\"drive-wise-font\">DriveWise</span>?</h2>\r\n        <ul>\r\n          <li><span className=\"drive-wise-font\">DriveWise</span> is a route planning tool that identifies current and upcoming disruptions to your journey. </li>\r\n          <li>It displays these disruptions in easy to understand colour coded markers and informs you when they will be taking place. </li>\r\n          <li><span className=\"drive-wise-font\">DriveWise</span> helps you to plan any upcoming journeys in advance and know if you will need to prepare to find an alternative route.</li>\r\n          <li>You can see how long your journey may be disrupted and can view any alternative routes provided by the tool.</li>\r\n        </ul>\r\n        <br />\r\n        <h2>What does <span className=\"drive-wise-font\">DriveWise</span> offer that similar routing tools do not?</h2>\r\n        <ul>\r\n          <li>Other tools such as Google Maps offer great driving services and inform you of current traffic conditions. </li>\r\n          <li>However, they do not additionally inform you of upcoming roadworks alongside any current roadworks or traffic incidents.</li>\r\n          <li>Whilst the services we use (Highways England and Transport for London) do offer their own tools that displays this information, <span className=\"drive-wise-font\">DriveWise</span> brings all the information together in one useful tool that is easy to understand and use.</li>\r\n          <li>Additionally, <span className=\"drive-wise-font\">DriveWise</span> provides routing capabilities, date filtering and a user friendly interface to interact with the data.</li>\r\n        </ul>\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <h2 className=\"app-bar-button\" onClick={() => setShowAboutModal(false)}>Close</h2>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  )\r\n}","import React from \"react\"\r\nimport { Modal } from \"react-bootstrap\"\r\n\r\nexport default ({ show, setShowHowToModal }) => {\r\n  return (\r\n    <Modal show={show} onHide={() => setShowHowToModal(false)} style={{opacity:1}} centered>\r\n      <Modal.Header>\r\n        <Modal.Title>\r\n          <h1>\r\n            How to use <span className=\"drive-wise-font\">DriveWise</span>\r\n          </h1>\r\n        </Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <h2>Your Location</h2>\r\n        <p>When the site first loads, it will ask your permission to use your location. Please click \"Allow\" to use the full functionality of <span className=\"drive-wise-font\">DriveWise</span>.</p>\r\n        <img className=\"how-to-image orange-border image-margin\" src=\"./media/howToKnowLocation.png\" alt=\"\"/>\r\n        <p>If you clicked \"Block\" and wish to change it, please do so in your browser settings. (In Chrome this can be found in Settings > Privacy and security > Site settings > Location).</p>\r\n        <p>If you have given the site permission to use your location, a marker will appear on the map to show your location.</p>\r\n        <img className=\"how-to-image\" src=\"./media/howToLocation.png\" alt=\"\"/>\r\n        <p>If you have not given the site permission, it will default to a central city in England.</p>\r\n        <br/>\r\n        <h2>Creating a Route</h2>\r\n        <p>There are 3 ways to create a route with <span className=\"drive-wise-font\">DriveWise</span></p>\r\n        <ol>\r\n          <li>\r\n            In the input boxes labelled \"Where from?\" and \"Where to?\", type in the places or addresses that you wish to be your starting point and destination. <br/>\r\n            <img className=\"how-to-image no-indent\" src=\"./media/howToRouteInput.png\" alt=\"How to route input\"/>\r\n          </li>\r\n          <li>Use the current location button <img className=\"how-to-image no-border\" src=\"./media/howToCurrentLocation.png\" alt=\"\"/> to set your starting point or destination as your current location.</li>\r\n          <li>\r\n            Use the route mode button <img className=\"how-to-image no-border\" src=\"./media/howToRouteMode.png\" alt=\"\"/> to select a point on the map to be your starting point or destination. \r\n          </li>\r\n        </ol>\r\n        <p>The data shown on the routes is automatically filtered to be for the next 7 days. This can be edited using the Start and End Date inputs to look for any disruptions in any time frame up to 1 year in the future.</p>\r\n        <img className=\"how-to-image\" src=\"./media/howToDate.png\" alt=\"\"/>\r\n        <p>PLEASE NOTE: The data is provided to us from a separate source which we have no control over and may be updated at any time. If checking for planned roadworks in the future, we recommend checking again closer to the time of your planned travel to see if anything has changed.</p>\r\n        <br/>\r\n        <h2>Route Mode</h2>\r\n        <p>You will know you are in Route Mode as your cursor will be a crosshair when hovering over the map.</p>\r\n        <img className=\"how-to-image\" src=\"./media/howToCrosshair.png\" alt=\"\"/>\r\n        <p>To exit route mode, click on the route mode button <img className=\"how-to-image no-border\" src=\"./media/howToRouteMode.png\" alt=\"\"/> again (or click within the section that has a dashed border).</p>\r\n        <br/>\r\n        <h2>The Route Display</h2>\r\n        <p>When a starting point and destination have been selected, a route will be loaded and displayed on the map, with the start and end points indicated with blue markers.</p>\r\n        <img className=\"how-to-image\" src=\"./media/howToSampleRoute.png\" alt=\"\"/>\r\n        <p>If any current incidents or roadworks, or any planned future roadworks are known to be on the selected route, then colour coded markers will be dropped on the route where they are known to take place. You will also be shown any alternative routes which can be switched to by clicking on them.</p>\r\n        <img className=\"how-to-image\" src=\"./media/howToAlternative.png\" alt=\"\"/>\r\n        <img className=\"how-to-image no-border\" src=\"./media/marker-icon-gold.png\" alt=\"\"/>\r\n        <p>A yellow marker indicates future planned roadworks by Highways England or Transport for London.</p>\r\n        <img className=\"how-to-image no-border\" src=\"./media/marker-icon-orange.png\" alt=\"\"/>\r\n        <p>An orange marker indicates current ongoing roadworks.</p>\r\n        <img className=\"how-to-image no-border\" src=\"./media/marker-icon-red.png\" alt=\"\"/>\r\n        <p>A red marker indicates current road incidents or severe traffic delays caused by roadworks.</p>\r\n        <br/>\r\n        <h2>Incident Information</h2>\r\n        <p>Click on a dropped marker to view information about the incident/roadwork.</p>\r\n        <img className=\"how-to-image\" src=\"./media/howToMarker.png\" alt=\"\"/>\r\n        <p>All incidents and roadworks found on a route will be listed for you to see the information about each one. Click on the marker for the incident for it to be displayed on the map.</p>\r\n        <img className=\"how-to-image\" src=\"./media/howToRouteInfo.png\" alt=\"\"/>\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <h2 className=\"app-bar-button\" onClick={() => setShowHowToModal(false)}>Close</h2>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  )\r\n}","import React, { useState, useEffect } from \"react\"\r\nimport \"../styles/AppBar.css\"\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport AboutModal from \"./AboutModal\";\r\nimport HowToModal from \"./HowToModal\";\r\n\r\nexport default () => {\r\n  const [burgerMenuNeeded, setBurgerMenuNeeded] = useState(false)\r\n  const [showAboutModal, setShowAboutModal] = useState(false)\r\n  const [showHowToModal, setShowHowToModal] = useState(false)\r\n  const [menuOpen, setMenuOpen] = useState(false)\r\n\r\n  useEffect(() => {\r\n    function updateDimensions() {\r\n      setBurgerMenuNeeded(window.innerWidth <= 550)\r\n    }\r\n    updateDimensions()\r\n    window.addEventListener(\"resize\", updateDimensions);\r\n    return () => window.removeEventListener(\"resize\", updateDimensions);\r\n  }, [setBurgerMenuNeeded])\r\n\r\n  return (\r\n    <div className={menuOpen ? \"app-bar app-bar-open\" : \"app-bar\"}>\r\n      <div className=\"title-group\">\r\n        <img src=\"logo.png\" alt=\"Drive Wise logo\" height=\"60px\"/>\r\n        <h1 className=\"title\">DriveWise</h1>\r\n      </div>\r\n      { menuOpen\r\n        ? <> \r\n            <h2 className=\"app-bar-button\" onClick={() => setShowAboutModal(true)}>about</h2>\r\n            <h2 className=\"app-bar-button\" onClick={() => setShowHowToModal(true)}>how to use</h2>\r\n            <i className=\"material-icons app-bar-button burger-menu-button-close\" onClick={() => setMenuOpen(false)}>expand_less</i>\r\n          </>\r\n        : burgerMenuNeeded\r\n          ? <i className=\"material-icons app-bar-button burger-menu-button-open\" onClick={() => setMenuOpen(true)}>menu</i>\r\n          : <> \r\n              <h2 className=\"app-bar-button\" onClick={() => setShowAboutModal(true)}>about</h2>\r\n              <h2 className=\"app-bar-button\" onClick={() => setShowHowToModal(true)}>how to use</h2>\r\n            </>\r\n      }\r\n      <AboutModal show={showAboutModal} setShowAboutModal={setShowAboutModal} />\r\n      <HowToModal show={showHowToModal} setShowHowToModal={setShowHowToModal} />\r\n    </div>\r\n  )\r\n}","// https://blog.logrocket.com/use-hooks-and-context-not-react-and-redux/\r\nimport React from \"react\";\r\n\r\nconst date = new Date();\r\n\r\nconst ActionType = {\r\n  SET_USER_LOCATION: \"SET_USER_LOCATION\",\r\n  SET_MAP_MODE: \"SET_MAP_MODE\",\r\n  SET_MAP_SPINNER: \"SET_MAP_SPINNER\",\r\n  SET_ROUTE_TO_LOCATION: \"SET_ROUTE_TO_LOCATION\",\r\n  SET_ROUTE_FROM_LOCATION: \"SET_ROUTE_FROM_LOCATION\",\r\n  SET_START_DATE: \"SET_START_DATE\",\r\n  SET_END_DATE: \"SET_END_DATE\",\r\n  SET_ROUTE: \"SET_ROUTE\",\r\n  SET_ROADWORKS_DATA: \"SET_ROADWORKS_DATA\",\r\n  SET_MARKER_INFO: \"SET_MARKER_INFO\",\r\n  SET_MAP_REFERENCE: \"SET_MAP_REFERENCE\",\r\n  ADD_ROADWORK_FILTER: \"ADD_ROADWORK_FILTER\",\r\n  REMOVE_ROADWORK_FILTER: \"REMOVE_ROADWORK_FILTER\"\r\n};\r\n\r\nconst intialState = {\r\n  userLocation: [52.6386, -1.13169],\r\n  mapMode: \"normal\",\r\n  mapSpinner: false,\r\n  routeToLocation: [],\r\n  routeFromLocation: [],\r\n  startDate: date,\r\n  endDate: new Date(date.getTime() + 7 * 24 * 60 * 60 * 1000),\r\n  routeCoordinates: [],\r\n  routeTime: \"\",\r\n  heIncidents: [],\r\n  heCurrent: [],\r\n  hePlanned: [],\r\n  tflSevere: [],\r\n  tflCurrent: [],\r\n  tflPlanned: [],\r\n  markerInfo: [],\r\n  mapReference: null,\r\n  roadworkFilter: []\r\n};\r\nconst StoreContext = React.createContext(intialState);\r\n\r\nconst StateProvider = ({ children }) => {\r\n  const [state, dispatch] = React.useReducer((state, action) => {\r\n    switch (action.type) {\r\n      case ActionType.SET_USER_LOCATION:\r\n        return { ...state, userLocation: action.payload };\r\n      case ActionType.SET_MAP_MODE:\r\n        return { ...state, mapMode: action.payload };\r\n      case ActionType.SET_MAP_SPINNER:\r\n        return { ...state, mapSpinner: action.payload };\r\n      case ActionType.SET_ROUTE_TO_LOCATION:\r\n        return { ...state, routeToLocation: action.payload };\r\n      case ActionType.SET_ROUTE_FROM_LOCATION:\r\n        return { ...state, routeFromLocation: action.payload };\r\n      case ActionType.SET_START_DATE:\r\n        return { ...state, startDate: action.payload };\r\n      case ActionType.SET_END_DATE:\r\n        return { ...state, endDate: action.payload };\r\n      case ActionType.SET_ROUTE:\r\n        return { ...state, routeCoordinates: action.payload.coordinates, routeTime: action.payload.time };\r\n      case ActionType.SET_ROADWORKS_DATA:\r\n        return {\r\n          ...state,\r\n          heIncidents: action.payload[0],\r\n          heCurrent: action.payload[1],\r\n          hePlanned: action.payload[2],\r\n          tflSevere: action.payload[3],\r\n          tflCurrent: action.payload[4],\r\n          tflPlanned: action.payload[5]\r\n        };\r\n      case ActionType.SET_MARKER_INFO:\r\n        return { ...state, markerInfo: action.payload };\r\n      case ActionType.SET_MAP_REFERENCE:\r\n        return { ...state, mapReference: action.payload };\r\n      case ActionType.ADD_ROADWORK_FILTER:\r\n        return { ...state, roadworkFilter: [...state.roadworkFilter, action.payload] }\r\n      case ActionType.REMOVE_ROADWORK_FILTER:\r\n        return { ...state, roadworkFilter: state.roadworkFilter.filter(f => f !== action.payload) }\r\n      default:\r\n       throw new Error(`Unhandled ActionType ${action.type}`)\r\n    }\r\n  }, intialState);\r\n\r\n  return (\r\n    <StoreContext.Provider value={{ state, dispatch }}>\r\n      {children}\r\n    </StoreContext.Provider>\r\n  );\r\n};\r\n\r\nexport { StoreContext, StateProvider, ActionType };\r\n","export const MAPBOX_API_KEY = 'pk.eyJ1IjoiZHJpdmV3aXNlIiwiYSI6ImNrOGxxeWE1MjA1Zm8zZm8yNDNpcGMzd20ifQ.alG-x_vHBrjzz1igFE8uyg' ","import { MAPBOX_API_KEY } from \"./Keys\";\r\n\r\nconst HighwaysEnglandUnplannedEvents =\r\n  \"https://m.highwaysengland.co.uk/feeds/rss/UnplannedEvents.xml\";\r\n\r\nconst HighwaysEnglandCurrentEvents =\r\n  \"https://m.highwaysengland.co.uk/feeds/rss/CurrentAndFutureEvents.xml\";\r\n\r\nconst TflDisruption = \"https://api.tfl.gov.uk/Road/All/Disruption\";\r\n\r\nfunction getDates() {\r\n  const date = new Date();\r\n  const today = date.toISOString().split(\"T\")[0];\r\n  const nextWeekDate = new Date(date.getTime() + 7 * 24 * 60 * 60 * 1000);\r\n  const nextWeek = nextWeekDate.toISOString().split(\"T\")[0];\r\n\r\n  return {\r\n    date,\r\n    today,\r\n    nextWeekDate,\r\n    nextWeek,\r\n  };\r\n}\r\n\r\nfunction convertHeXmlToJson(htmlcollection) {\r\n  return Array.from(htmlcollection).map((incident) =>\r\n    getRoadworkObject(Array.from(incident.children).reduce((acc, elem) => {\r\n      let tagName = elem.tagName;\r\n      // Handle multiple tags named category\r\n      if (tagName === \"category\") {\r\n        tagName = acc.hasOwnProperty(\"category1\") ? \"category2\" : \"category1\";\r\n      }\r\n      return Object.assign(acc, { [tagName]: elem.innerHTML });\r\n    }, {}), \"severe\")\r\n  );\r\n}\r\n\r\nexport default async function fetchRoadworkData() {\r\n  const { date, today, nextWeek } = getDates();\r\n\r\n  console.log(\"Fetching data\");\r\n  const [\r\n    heIncidentsResponse,\r\n    heRoadworksResponse,\r\n    tflResponse,\r\n  ] = await Promise.all([\r\n    fetch(HighwaysEnglandUnplannedEvents),\r\n    fetch(HighwaysEnglandCurrentEvents),\r\n    fetch(`${TflDisruption}?startDate=${today}&endDate=${nextWeek}`),\r\n  ]);\r\n\r\n  const [heIncidentsText, heRoadworksText, tflJson] = await Promise.all([\r\n    heIncidentsResponse.text(),\r\n    heRoadworksResponse.text(),\r\n    tflResponse.json(),\r\n  ]);\r\n\r\n  // TODO there is maybe a better way to do this\r\n  let parser, heIncidentsXml, heRoadworksXml;\r\n  if (window.DOMParser) {\r\n    // parse XML\r\n    parser = new DOMParser();\r\n    heIncidentsXml = parser.parseFromString(heIncidentsText, \"text/xml\");\r\n    heRoadworksXml = parser.parseFromString(heRoadworksText, \"text/xml\");\r\n  } else {\r\n    // Internet Explorer\r\n    heIncidentsXml = new window.ActiveXObject(\"Microsoft.XMLDOM\");\r\n    heRoadworksXml = new window.ActiveXObject(\"Microsoft.XMLDOM\");\r\n    heIncidentsXml.async = false;\r\n    heRoadworksXml.async = false;\r\n    heIncidentsXml.loadXML(heIncidentsText);\r\n    heRoadworksXml.loadXML(heRoadworksText);\r\n  }\r\n\r\n  const incidentItems = heIncidentsXml.getElementsByTagName(\"item\");\r\n  const newHeIncidents = convertHeXmlToJson(incidentItems)\r\n  console.log(newHeIncidents)\r\n\r\n  const roadworksItems = heRoadworksXml.getElementsByTagName(\"item\");\r\n  const newRoadworks = convertHeXmlToJson(roadworksItems)\r\n\r\n  // partition the new roadworks into current and planned\r\n  const filter = (elem, startField, endField) =>\r\n    new Date(elem[startField]) <= date && date <= new Date(elem[endField]);\r\n\r\n  const [newHeRoadworksCurrent, newHeRoadworksPlanned] = newRoadworks.reduce(\r\n    ([current, planned], elem) => {\r\n      return filter(elem, \"startDate\", \"endDate\")\r\n        ? [[...current, getRoadworkObject(elem, \"current\")], planned]\r\n        : [current, [...planned, getRoadworkObject(elem, \"planned\")]];\r\n    },\r\n    [[], []]\r\n  );\r\n\r\n  // TODO there is definitely a cleaner way of doing this\r\n  const newTflSevere = [],\r\n    newTflCurrent = [],\r\n    newTflPlanned = [];\r\n\r\n  // loop through tfl data and add to respective arrays, will need to extract data we know we need at a later point, currently keeps everything\r\n  for (const json of tflJson) {\r\n    if (json.severity === \"Severe\") {\r\n      newTflSevere.push(getRoadworkObject(json, \"severe\"))\r\n    } else if (filter(json, \"startDateTime\", \"endDateTime\")) {\r\n      newTflCurrent.push(getRoadworkObject(json, \"current\"))\r\n    } else {\r\n      newTflPlanned.push(getRoadworkObject(json, \"planned\"))\r\n    }\r\n  }\r\n\r\n  return [\r\n    newHeIncidents,\r\n    newHeRoadworksCurrent,\r\n    newHeRoadworksPlanned,\r\n    newTflSevere,\r\n    newTflCurrent,\r\n    newTflPlanned,\r\n  ];\r\n}\r\n\r\nexport function locationLookup(value) {\r\n  const uriValue = encodeURIComponent(value);\r\n  const url = `https://api.mapbox.com/geocoding/v5/mapbox.places/${uriValue}.json?country=GB&access_token=${MAPBOX_API_KEY}`;\r\n\r\n  return fetch(url).then((results) => results.json());\r\n}\r\n\r\nexport function reverseLocationLookup(coords) {\r\n  const [latitude, longitude] = coords;\r\n  const url = `https://api.mapbox.com/geocoding/v5/mapbox.places/${longitude},${latitude}.json?country=GB&access_token=${MAPBOX_API_KEY}`;\r\n\r\n  return fetch(url).then((result) => result.json());\r\n}\r\n\r\nexport function getColor(roadwork) {\r\n  const type = roadwork[\"__type\"]\r\n  switch (type) {\r\n    case \"severe\": {\r\n      return \"red\"\r\n    }\r\n    case \"planned\": {\r\n      return \"gold\"\r\n    }\r\n    case \"current\": {\r\n      return \"orange\"\r\n    }\r\n    default: {\r\n      throw new Error(`Unknown roadwork ${type}`)\r\n    }\r\n  }\r\n}\r\n\r\nexport function getRoadworkObject(roadwork, type) {\r\n  const isTfl = \"$type\" in roadwork\r\n  const [x, y] = isTfl ? JSON.parse(roadwork.point) : roadwork.latLng ? roadwork.latLng : [parseFloat(roadwork.latitude), parseFloat(roadwork.longitude)]\r\n  return {\r\n    startDate: roadwork.startDate || new Date(roadwork.overallStart || roadwork.startDateTime),\r\n    endDate: roadwork.endDate || new Date(roadwork.overallEnd || roadwork.endDateTime),\r\n    latLng: isTfl ? [y, x] : [x, y],\r\n    title: roadwork.title || roadwork.location,\r\n    category: roadwork.category1 || roadwork.category,\r\n    subCategory: roadwork.category2 || roadwork.subCategory,\r\n    author: roadwork.author || \"TFL\",\r\n    id: roadwork.guid || roadwork.id,\r\n    link: roadwork.link || `https://api.tfl.gov.uk/Road/All/Disruption${roadwork.url}`,\r\n    reference: roadwork.reference,\r\n    \"__type\": type\r\n  }\r\n}","import React, { useState, useContext, useEffect } from \"react\";\r\nimport { Typeahead } from \"react-bootstrap-typeahead\";\r\nimport { StoreContext, ActionType } from \"../store\";\r\nimport { locationLookup, reverseLocationLookup } from \"../data\";\r\nimport \"../styles/RouteInput.css\";\r\nimport \"react-bootstrap-typeahead/css/Typeahead.css\";\r\n\r\nexport default function RouteInputRow({ direction }) {\r\n  const [options, setOptions] = useState([]);\r\n  const { state, dispatch } = useContext(StoreContext);\r\n\r\n  // Remove focus from input\r\n  useEffect(() => {\r\n    document.activeElement.blur();\r\n  }, []);\r\n\r\n  const selected =\r\n    direction === \"to\" ? state.routeToLocation : state.routeFromLocation;\r\n  const type =\r\n    direction === \"to\"\r\n      ? ActionType.SET_ROUTE_TO_LOCATION\r\n      : ActionType.SET_ROUTE_FROM_LOCATION;\r\n\r\n  function handleInputChange(value) {\r\n    if (value.length >= 1) {\r\n      locationLookup(value)\r\n        .then((json) =>\r\n          json.features.map((option) => ({\r\n            text: option.place_name,\r\n            center: [option.center[1], option.center[0]],\r\n          }))\r\n        )\r\n        .then((options) => setOptions(options));\r\n    } else {\r\n      setOptions([]);\r\n    }\r\n  }\r\n\r\n  function handleSelectedChange(value) {\r\n    // Update the store with the selected location for the route\r\n    const location = value.length > 0 ? [value[0]] : [];\r\n    dispatch({ type, payload: location });\r\n    // We need to remember to clear the coordinates here so the markers are removed\r\n    if (value.length === 0)\r\n      dispatch({ type: ActionType.SET_ROUTE, payload: { coordinates: [], time: \"\" } });\r\n  }\r\n\r\n  function handleGeolocationButton() {\r\n    reverseLocationLookup(state.userLocation).then((json) => {\r\n      if (json.features.length >= 1) {\r\n        const value = {\r\n          text: json.features[0].place_name,\r\n          center: state.userLocation,\r\n        };\r\n        dispatch({ type, payload: [value] });\r\n      }\r\n    });\r\n  }\r\n\r\n  function handleAddLocation() {\r\n    dispatch({\r\n      type: ActionType.SET_MAP_MODE,\r\n      payload: state.mapMode === \"normal\" ? `select-${direction}` : \"normal\"\r\n    });\r\n  }\r\n\r\n  function getBlurClassName() {\r\n    if (direction === \"to\")\r\n      return state.mapMode === \"select-to\" ? \"route-input-button unblur\" : \"route-input-button\"\r\n    else \r\n      return state.mapMode === \"select-from\" ? \"route-input-button unblur\" : \"route-input-button\"\r\n  }\r\n\r\n  return (\r\n    <div className=\"route-input-row\">\r\n      <Typeahead\r\n        id={\"route-input-\" + direction}\r\n        className=\"location-input\"\r\n        labelKey=\"text\"\r\n        options={options}\r\n        selected={selected}\r\n        onInputChange={handleInputChange}\r\n        onChange={handleSelectedChange}\r\n        placeholder={direction === \"to\" ? \"Where to?\" : \"Where from?\"}\r\n        maxResults={5}\r\n        autoFocus={true}\r\n        selectHintOnEnter={true}\r\n        minLength={4}\r\n        clearButton={true}\r\n      />\r\n      <div className=\"button-group\">\r\n        <button\r\n          className=\"route-input-button\"\r\n          onClick={() => handleGeolocationButton()}\r\n          data-tip=\"Set point as current location\"\r\n        >\r\n          <i className=\"material-icons\">gps_fixed</i>\r\n        </button>\r\n        <button\r\n          className={getBlurClassName()}\r\n          onClick={() => handleAddLocation()}\r\n          data-tip=\"Route Mode: Set point by clicking on map\"\r\n        >\r\n          <i className=\"material-icons\">add_location</i>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport DatePicker from \"react-datepicker\";\r\nimport { StoreContext, ActionType } from \"../store\";\r\nimport Swal from 'sweetalert2'\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport \"../styles/DatePicker.css\"\r\n\r\nexport default ({dateType}) => {\r\n  const [wide, setWide] = useState(true);\r\n  const { state, dispatch } = useContext(StoreContext);\r\n  const date = new Date()\r\n\r\n  const selected =\r\n  dateType === \"End\" ? state.endDate: state.startDate;\r\n  const type =\r\n    dateType === \"End\"\r\n      ? ActionType.SET_END_DATE\r\n      : ActionType.SET_START_DATE;\r\n\r\n  useEffect(() => {\r\n    function updateDimensions() {\r\n      setWide(window.innerWidth >= 1280)\r\n    }\r\n    updateDimensions()\r\n    window.addEventListener(\"resize\", updateDimensions);\r\n    return () => window.removeEventListener(\"resize\", updateDimensions);\r\n  }, [setWide])\r\n\r\n  function handleSelectedChange(value) {\r\n    //check for endDate being before startDate && if startDate is set beyond endDate, then set endDate to startDate\r\n    if (dateType === \"End\" && value < state.startDate) {\r\n      Swal.fire({\r\n        icon: \"error\",\r\n        title: \"Date Error\",\r\n        text:\r\n          \"Cannot set end date to be before start date.\",\r\n      });\r\n      return\r\n    } \r\n    dispatch({ type, payload: value });\r\n    if (dateType === \"Start\" && value > state.endDate)\r\n      dispatch({ type: ActionType.SET_END_DATE, payload: value });\r\n  }\r\n  \r\n  return (\r\n    <div style={{width: \"100%\"}}>\r\n      <p className=\"date-title\" data-tip=\"Click below to bring up date picker\">{dateType +  \" Date\"}</p>\r\n      <DatePicker \r\n        selected={selected} \r\n        onChange={handleSelectedChange}\r\n        minDate={new Date()} \r\n        maxDate={new Date(date.setFullYear(date.getFullYear() + 1))}\r\n        todayButton=\"Go to Today\"\r\n        // highlightDates={!multi && !extend && parentProps.state.highlightDates}\r\n        shouldCloseOnSelect={true}\r\n        popperPlacement={wide ? \"right\" : \"top\"}\r\n        dateFormat={\"dd/MM/yyyy\"}\r\n        keyboardType=\"none\"\r\n        disabledKeyboardNavigation\r\n      />\r\n    </div>\r\n  )\r\n}","import React, { useState, useContext } from \"react\"\r\nimport { StoreContext } from \"../store\";\r\nimport \"../styles/MarkerInfo.css\"\r\n\r\nexport default ({ info, color }) => {\r\n  const { state } = useContext(StoreContext);\r\n  const startDateTime = info.startDate.toLocaleString(\"en\")\r\n  const endDateTime = info.endDate.toLocaleString(\"en\")\r\n  const [showMore, setShowMore] = useState(false)\r\n\r\n  return (\r\n    <div className=\"marker-info\">\r\n      <img className=\"marker-icon-image\" src={`./media/marker-icon-${color}.png`} alt=\"marker colour\" onClick={() => state.mapReference.setView(info.latLng, 15)} />\r\n      <p className=\"icon-info\">Click marker above to show on map</p>\r\n      <div className=\"marker-info-content\">\r\n        <p className=\"info-title\">{info.title}</p>\r\n        <p>\r\n          {info.category} - {info.subCategory}\r\n        </p>\r\n        <p>\r\n          <b>Start:</b> {`${startDateTime}`} <br />\r\n          <b>End:</b> {`${endDateTime}`} <br />\r\n        </p>\r\n        <p>Technical Details: <i className=\"show-technical-details\" onClick={() => setShowMore(!showMore)}>{!showMore ? \"Show more\" : \"Show less\"}</i></p>\r\n        {showMore && <p className=\"info-technical-details\">\r\n          Author: {info.author} <br />\r\n          GUID: {info.id} <br />\r\n          Link: <a href={info.link} target=\"_blank\" rel=\"noopener noreferrer\">{info.link}</a> <br />\r\n          {info.reference && <>Reference: {info.reference}</>}\r\n        </p>}\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React, { useContext } from \"react\";\r\nimport { StoreContext, ActionType } from \"../store\";\r\nimport \"../styles/RouteInfoBox.css\";\r\n\r\nfunction parseTime(routeTime) {\r\n  return new Date(routeTime * 1000).toISOString().substr(11, 8);\r\n}\r\n\r\nexport default function RouteInfoBox() {\r\n  const { state, dispatch } = useContext(StoreContext);\r\n  const severeTicked = !state.roadworkFilter.includes(\"severe\");\r\n  const currentTicked = !state.roadworkFilter.includes(\"current\");\r\n  const plannedTicked = !state.roadworkFilter.includes(\"planned\");\r\n\r\n  function handleCheckChange(event) {\r\n    const { value, checked } = event.target;\r\n    // If the box is now checked, we need to remove that key from the filter\r\n    const actionType = checked\r\n      ? ActionType.REMOVE_ROADWORK_FILTER\r\n      : ActionType.ADD_ROADWORK_FILTER;\r\n    dispatch({ type: actionType, payload: value });\r\n  }\r\n\r\n  return (\r\n    <div className=\"route-info-box\">\r\n      <h3>Route details</h3>\r\n      <div>\r\n        <p>Found {state.markerInfo.length} roadworks or incidents on route</p>\r\n        <p>Estimtated route time: {parseTime(state.routeTime)}</p>\r\n      </div>\r\n      <h4>Filter roadworks</h4>\r\n      <div className=\"checkbox-row\">\r\n        <div style={{ display: \"flex\", flexDirection: \"column\" }}>\r\n          <input\r\n            type=\"checkbox\"\r\n            value=\"severe\"\r\n            id=\"severe\"\r\n            name=\"severe\"\r\n            checked={severeTicked}\r\n            onChange={handleCheckChange}\r\n          />\r\n          <label htmlFor=\"severe\">\r\n            Severe\r\n            <img\r\n              className=\"marker-icon-image\"\r\n              src={\"./media/marker-icon-red.png\"}\r\n              alt=\"severe marker colour\"\r\n            />\r\n          </label>\r\n        </div>\r\n        <div style={{ display: \"flex\", flexDirection: \"column\" }}>\r\n          <input\r\n            type=\"checkbox\"\r\n            value=\"current\"\r\n            id=\"current\"\r\n            name=\"current\"\r\n            checked={currentTicked}\r\n            onChange={handleCheckChange}\r\n          />\r\n          <label htmlFor=\"current\">\r\n            Current\r\n            <img\r\n              className=\"marker-icon-image\"\r\n              src={\"./media/marker-icon-orange.png\"}\r\n              alt=\"current marker colour\"\r\n            />\r\n          </label>\r\n        </div>\r\n        <div style={{ display: \"flex\", flexDirection: \"column\" }}>\r\n          <input\r\n            type=\"checkbox\"\r\n            value=\"planned\"\r\n            id=\"planned\"\r\n            name=\"planned\"\r\n            checked={plannedTicked}\r\n            onChange={handleCheckChange}\r\n          />\r\n          <label htmlFor=\"planned\">\r\n            Planned\r\n            <img\r\n              className=\"marker-icon-image\"\r\n              src={\"./media/marker-icon-gold.png\"}\r\n              alt=\"planned marker colour\"\r\n            />\r\n          </label>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext } from \"react\";\r\nimport RouteInputRow from \"./RouteInputRow\";\r\nimport { StoreContext, ActionType } from \"../store\";\r\nimport DatePicker from \"./DatePicker\";\r\nimport MarkerInfo from \"./MarkerInfo\";\r\nimport { getColor } from \"../data\"\r\nimport RouteInfoBox from \"./RouteInfoBox\";\r\n\r\nexport default function RouteWindow() {\r\n  const { state, dispatch } = useContext(StoreContext);\r\n\r\n  function setNormalMapMode() {\r\n    dispatch({\r\n      type: ActionType.SET_MAP_MODE,\r\n      payload: `normal`,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className=\"route-window\">\r\n      <div className=\"route-inputs\">\r\n        <div className=\"route-input-group\">\r\n          { state.mapMode !== \"normal\" && <div className=\"blur\"/> }\r\n          <RouteInputRow direction=\"from\" />\r\n          <RouteInputRow direction=\"to\" />\r\n        </div>\r\n        <div className=\"route-input-group date-input-group\">\r\n          { state.mapMode !== \"normal\" && <div className=\"blur\"/> }\r\n          <DatePicker dateType=\"Start\" />\r\n          <DatePicker dateType=\"End\" />\r\n        </div>\r\n      </div>\r\n      {state.markerInfo.length > 0 && <RouteInfoBox />}\r\n      { state.mapMode === \"normal\"\r\n        ? <div className=\"route-info\">\r\n            {state.markerInfo.length === 0 && <p>Once a route has been selected, any identified incident and road work information for the selected route will appear here. <br/><br/> If a route has been selected and this message is still shown then there are no known incidents or current/planned road works on the selected route.</p>}\r\n            {state.markerInfo.filter(roadwork => !state.roadworkFilter.includes(roadwork[\"__type\"])).map(roadwork => (\r\n              <MarkerInfo key={\"markerInfo\" + (roadwork.id)} info={roadwork} color={getColor(roadwork)} />\r\n            ))}\r\n          </div>\r\n        : <div onClick={setNormalMapMode} className=\"route-mode-info\">\r\n            <h1>Route Select Mode: {state.mapMode === \"select-to\" ? \" Destination\" : \" Starting Point\"}</h1>\r\n             <p>Click a location on the map to select it as your {state.mapMode === \"select-to\" ? \"destination\" : \"starting point\"}.</p>\r\n             <p>To exit Route Select Mode, click within the dashed section here.</p> \r\n          </div>\r\n      }\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport L from \"leaflet\";\r\n\r\nexport default function LocationMarker({ map, point }) {\r\n  useEffect(() => {\r\n    if(map) {\r\n      const icon = L.icon({\r\n        iconUrl: require(\"../media/location2.png\"),\r\n        iconSize: [30, 30], // size of the icon\r\n        iconAnchor: [15, 20], // point of the icon which will correspond to marker's location\r\n        popupAnchor: [0, -15], // point from which the popup should open relative to the iconAnchor\r\n        shadowSize: [30, 30], // size of the shadow\r\n      });\r\n      const marker = L.marker(point.latLng, {\r\n        icon,\r\n      });\r\n\r\n      marker.addTo(map);\r\n      marker.bindPopup(\"Your current location\");\r\n\r\n      // map.on('zoomend', function() {\r\n      //   var currentZoom = map.getZoom();\r\n      //   console.log(currentZoom)\r\n      // })\r\n\r\n      return () => map.removeLayer(marker);\r\n    }\r\n  }, [map, point]);\r\n\r\n  return <></>;\r\n}","import React, { useRef, useEffect, useState, useContext } from \"react\";\r\nimport L from \"leaflet\";\r\nimport \"leaflet-spin\"\r\nimport { StoreContext, ActionType } from \"../store\";\r\nimport { reverseLocationLookup } from \"../data\";\r\nimport Swal from 'sweetalert2'\r\n\r\nconst spinnerOptions = {\r\n  lines: 13, // The number of lines to draw\r\n  length: 46, // The length of each line\r\n  width: 6, // The line thickness\r\n  radius: 51, // The radius of the inner circle\r\n  scale: 0.7, // Scales overall size of the spinner\r\n  corners: 1, // Corner roundness (0..1)\r\n  color: '#ef772d', // CSS color or array of colors\r\n  fadeColor: 'transparent', // CSS color or array of colors\r\n  speed: 1.7, // Rounds per second\r\n  rotate: 0, // The rotation offset\r\n  animation: 'spinner-line-fade-more', // The CSS animation name for the lines\r\n  direction: 1, // 1: clockwise, -1: counterclockwise\r\n  zIndex: 2e9, // The z-index (defaults to 2000000000)\r\n  className: 'spinner', // The CSS class to assign to the spinner\r\n  top: '50%', // Top position relative to parent\r\n  left: '50%', // Left position relative to parent\r\n  shadow: '0 0 1px transparent', // Box-shadow for the lines\r\n  position: 'absolute' // Element positioning\r\n}\r\n\r\nexport default function Map({ children }) {\r\n  const mapRef = useRef(null);\r\n  const [map, setMap] = useState(null);\r\n  const { state, dispatch } = useContext(StoreContext);\r\n\r\n  // We intialise the map once on initial component render\r\n  useEffect(() => {\r\n    const map = L.map(mapRef.current, {\r\n      minZoom: 6\r\n    });\r\n    L.tileLayer(\"http://{s}.tile.osm.org/{z}/{x}/{y}.png\", {\r\n      attribution: '&copy; <a href=\"https://www.mapbox.com/about/maps/\" target=\"_blank\" rel=\"noopener noreferrer\">Mapbox</a> &copy; <a href=\"https://www.openstreetmap.org/copyright\" target=\"_blank\" rel=\"noopener noreferrer\">OpenStreetMap</a> <a href=\"https://www.mapbox.com/map-feedback/\" target=\"_blank\" rel=\"noopener noreferrer\">Improve this map</a>'\r\n    }).addTo(map);\r\n    setMap(map);\r\n  }, []);\r\n\r\n  // Center the map\r\n  useEffect(() => {\r\n    if (map) {\r\n      map.setView(state.userLocation, 12);\r\n    }\r\n  }, [map, state.userLocation]);\r\n\r\n  // update map reference\r\n  useEffect(() => {\r\n    dispatch({\r\n      type: ActionType.SET_MAP_REFERENCE,\r\n      payload: map\r\n    });\r\n  }, [map, dispatch])\r\n\r\n  useEffect(() => {\r\n    if (map) {\r\n      map.on(\"click\", ({ latlng }) => {\r\n        if (state.mapMode !== \"normal\") {\r\n          const coords = [latlng.lat, latlng.lng];\r\n          const type =\r\n            state.mapMode === \"select-from\"\r\n              ? ActionType.SET_ROUTE_FROM_LOCATION\r\n              : ActionType.SET_ROUTE_TO_LOCATION;\r\n          reverseLocationLookup(coords).then((json) => {\r\n            if (json.features.length >= 1) {\r\n              const value = {\r\n                text: json.features[0].place_name,\r\n                center: coords,\r\n              };\r\n              dispatch({ type, payload: [value] });\r\n              dispatch({\r\n                type: ActionType.SET_MAP_MODE,\r\n                payload: \"normal\",\r\n              });\r\n            } else {\r\n              Swal.fire({\r\n                icon: \"error\",\r\n                title: \"No Address Found\",\r\n                text:\r\n                  \"No address found in the selected location, please try a new location.\",\r\n              });\r\n            }\r\n          });\r\n        } else {\r\n          //drop a pin / change dropped pin location (maybe always just set as to location?)\r\n        }\r\n      });\r\n      return () => map.off(\"click\");\r\n    }\r\n  }, [dispatch, map, state.mapMode]);\r\n\r\n  useEffect(() => {\r\n    if (map) {\r\n      map.spin(state.mapSpinner, spinnerOptions)\r\n    }\r\n  }, [map, state.mapSpinner])\r\n\r\n  // We augment the children of this element with a prop that holds the map element, so that leaflet can access it\r\n  const childrenWithMap = React.Children.map(children, (child) =>\r\n    React.cloneElement(child, { map })\r\n  );\r\n\r\n  const opacity = state.mapSpinner ? \"0.5\" : \"1\"\r\n\r\n  return (\r\n    <div id={state.mapMode !== \"normal\" ? \"crosshairs\" : null} className=\"drivewise-map\" ref={mapRef}>\r\n      {childrenWithMap}\r\n    </div>\r\n  );\r\n}","import React, { useEffect } from \"react\";\r\nimport L from \"leaflet\";\r\n\r\nexport default function Marker({ map, point, color }) {\r\n  useEffect(() => {\r\n    const icon = L.icon({\r\n      iconUrl: require(`../media/marker-icon-${color}.png`),\r\n      iconSize: [25, 41], // size of the icon\r\n      iconAnchor: [12, 41], // point of the icon which will correspond to marker's location\r\n      popupAnchor: [1, -34], // point from which the popup should open relative to the iconAnchor\r\n      shadowSize: [41, 41], // size of the shadow\r\n    });\r\n    const marker = L.marker(point.latLng, {\r\n      icon,\r\n    });\r\n\r\n    const startDateTime = new Date(point.startDate)\r\n    const endDateTime = new Date(point.endDate)\r\n\r\n    if (map) {\r\n      marker.addTo(map);\r\n      marker.bindPopup(\r\n        point.startEndTitle ||\r\n        `<div style=\"overflow-x: scroll\"><b>${point.title}</b> <br>\r\n        ${point.category} - ${point.subCategory} <br>\r\n        Start: ${startDateTime} <br>\r\n        End: ${endDateTime} <br><br>\r\n        Technical Details: <br>\r\n        Author: ${point.author} <br>\r\n        GUID: ${point.id} <br>\r\n        Link: <a href=\"${point.link}\" target=\"_blank\" rel=\"noopener noreferrer\">${point.link}</a> <br>\r\n        Reference: ${point.reference || point.id}</div>`\r\n        \r\n      );\r\n    }\r\n\r\n    return () => map.removeLayer(marker);\r\n  }, [map, point, color]);\r\n\r\n  return <></>;\r\n}\r\n//   return (\r\n//     <Marker position={position} icon={icon}>\r\n//       <Popup>\r\n        // <b>{point.title}</b> <br />\r\n        // {point.category1} - {point.category2} <br />\r\n        // Description: {point.description} <br />\r\n        // Start: {point.overallStart} <br />\r\n        // End: {point.overallEnd} <br />\r\n        // Technical Details: <br />\r\n        // Author: {point.author} <br />\r\n        // GUID: {point.guid} <br />\r\n        // link: {point.link} <br />\r\n        // reference {point.reference}\r\n//       </Popup>\r\n//     </Marker>\r\n//   )\r\n// }\r\n","import React, { useEffect, useContext, useState } from \"react\";\r\nimport L from \"leaflet\";\r\nimport \"leaflet-routing-machine\";\r\nimport { StoreContext, ActionType } from \"../store\";\r\nimport { MAPBOX_API_KEY } from \"../Keys\";\r\nimport \"leaflet-routing-machine/dist/leaflet-routing-machine.css\";\r\n\r\nexport default function RoutingMachine({ map }) {\r\n  const { state, dispatch } = useContext(StoreContext);\r\n  const [routingControl, setRoutingControl] = useState(null);\r\n\r\n  // We use this effect to set up the routing control object and the route selected handler\r\n  useEffect(() => {\r\n    if (map) {\r\n      const control = L.Routing.control({\r\n        waypoints: [],\r\n        router: L.Routing.mapbox(MAPBOX_API_KEY),\r\n        show: false,\r\n        showAlternatives: true,\r\n        lineOptions: {\r\n          styles: [\r\n            { color: \"#2d89ef\", opacity: 1, weight: 5 }\r\n          ],\r\n        },\r\n        altLineOptions: {\r\n          styles: [\r\n            { color: 'grey', opacity: 1, weight: 5 }\r\n          ]\r\n        }\r\n      });\r\n\r\n      control.on(\"routeselected\", ({ route }) => {\r\n        //console.log(route.instructions) Could potentially do something with the instructions\r\n        dispatch({ type: ActionType.SET_ROUTE, payload: { coordinates: route.coordinates, time: route.summary.totalTime }});\r\n        map.fitBounds([route.waypoints[0].latLng, route.waypoints[1].latLng]);\r\n      });\r\n\r\n      control.addTo(map);\r\n\r\n      setRoutingControl(control);\r\n    }\r\n  }, [map, dispatch]);\r\n\r\n  // We use this effect to watch for state changes that affect the router\r\n  useEffect(() => {\r\n    // If we have a from and a to location, we set the waypoints in the router\r\n    if (\r\n      routingControl &&\r\n      state.routeFromLocation.length > 0 &&\r\n      state.routeToLocation.length > 0\r\n    ) {\r\n      dispatch({ type: ActionType.SET_MAP_SPINNER, payload: true })\r\n      routingControl.setWaypoints([\r\n        state.routeFromLocation[0].center,\r\n        state.routeToLocation[0].center,\r\n      ]);\r\n      routingControl.route();\r\n      // Otherwise if either of the locations are missing we clear the router\r\n    } else if (\r\n      routingControl &&\r\n      (state.routeFromLocation.length === 0 ||\r\n        state.routeToLocation.length === 0)\r\n    ) {\r\n      routingControl.setWaypoints([]);\r\n      routingControl.route();\r\n    }\r\n\r\n  }, [routingControl, map, state.routeFromLocation, state.routeToLocation]);\r\n\r\n  return <></>;\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport L from \"leaflet\";\r\n\r\nfunction parseTime(routeTime) {\r\n  return new Date(routeTime * 1000).toISOString().substr(11, 8);\r\n}\r\n\r\nexport default function RouteTimePopup({ map, point, content }) {\r\n  useEffect(() => {\r\n    if(map) {\r\n      L.popup({ closeOnClick: false }).setLatLng(point).setContent(`Route time: ${parseTime(content)}`).openOn(map)\r\n    }\r\n  }, [map, point, content])\r\n\r\n  return <></>;\r\n}","import React, { useMemo, useContext, useEffect } from \"react\";\r\nimport LocationMarker from \"./LocationMarker\"\r\nimport Map from \"./Map\";\r\nimport Marker from \"./Marker\";\r\nimport RoutingMachine from \"./RoutingMachine\";\r\nimport { ActionType, StoreContext } from \"../store\";\r\nimport RouteTimePopup from \"./RouteTimePopup\";\r\nimport { getColor } from \"../data\"\r\n\r\nconst ky = 40000 / 360;\r\n\r\nfunction arePointsNear(checkPoint, centerPoint, km) {\r\n  const [checkLatitude, checkLongitude] = checkPoint;\r\n  const [centerLatitude, centerLongitude] = centerPoint;\r\n\r\n  const kx = Math.cos((Math.PI * centerLatitude) / 180.0) * ky;\r\n  const dx = Math.abs(centerLongitude - checkLongitude) * kx;\r\n  const dy = Math.abs(centerLatitude - checkLatitude) * ky;\r\n\r\n  return Math.sqrt(dx * dx + dy * dy) <= km;\r\n}\r\n\r\nfunction isPointNear(point, coordinates) {\r\n  const [lat, lng] = point.latLng\r\n  for (const coord of coordinates) {\r\n    const checkPoint = [coord.lat, Math.abs(coord.lng)];\r\n    const centerPoint = [lat, Math.abs(lng)]\r\n    if (arePointsNear(checkPoint, centerPoint, 0.1)) {\r\n      return true;\r\n    }\r\n  }\r\n  return false;\r\n}\r\n\r\nexport default function MapWindow() {\r\n  const { state, dispatch } = useContext(StoreContext);\r\n\r\n  function isMarkerOnLocation() {\r\n    if (state.routeFromLocation.length > 0)\r\n      if (state.routeFromLocation[0].center[0] === state.userLocation[0] && state.routeFromLocation[0].center[1] === state.userLocation[1])\r\n        return true\r\n    if (state.routeToLocation.length > 0)\r\n      if (state.routeToLocation[0].center[0] === state.userLocation[0] && state.routeToLocation[0].center[1] === state.userLocation[1])\r\n        return true\r\n    return false\r\n  }\r\n\r\n  const routeFromMarker =\r\n    state.routeFromLocation.length > 0 ? (\r\n      <Marker\r\n        point={{\r\n          latLng: [state.routeFromLocation[0].center[0], state.routeFromLocation[0].center[1]],\r\n          startEndTitle: \"<b>Starting Point: </b>\" + state.routeFromLocation[0].text\r\n        }}\r\n        color={\"blue\"}\r\n      />\r\n    ) : (\r\n        <></>\r\n      );\r\n\r\n  const routeToMarker =\r\n    state.routeToLocation.length > 0 ? (\r\n      <Marker\r\n        point={{\r\n          latLng: [state.routeToLocation[0].center[0], state.routeToLocation[0].center[1]],\r\n          startEndTitle: \"<b>Destination: </b>\" + state.routeToLocation[0].text\r\n        }}\r\n        color={\"blue\"}\r\n      />\r\n    ) : (\r\n        <></>\r\n      );\r\n\r\n  const locationMarker =\r\n    !isMarkerOnLocation() ? (\r\n      <LocationMarker\r\n        point={{\r\n          latLng: [state.userLocation[0] || 0, state.userLocation[1] || 0]\r\n        }}\r\n      />\r\n    ) : <></>\r\n\r\n  const routeTimePopup = state.routeCoordinates.length > 0 ? <RouteTimePopup point={state.routeFromLocation[0].center} content={state.routeTime} /> : <></>\r\n\r\n  // We make sure to only recompute the route roadworks when the coordinates (aka the route) changes\r\n  const routeRoadworks = useMemo(() => {\r\n    console.log(\"Recalculating route roadworks\");\r\n    const coordinates = state.routeCoordinates;\r\n    const selectedStart = new Date(state.startDate)\r\n    const selectedEnd = new Date(state.endDate)\r\n\r\n    function inDateRange({ startDate, endDate }) {\r\n      const endsAfterStartDate = endDate >= selectedStart\r\n      const startsBeforeEndDate = startDate <= selectedEnd  \r\n      return (endsAfterStartDate && startsBeforeEndDate)\r\n    }\r\n\r\n    if (coordinates.length > 0) {\r\n      const currentRoadworks = [...state.heCurrent, ...state.tflCurrent].filter(inDateRange).filter(point => isPointNear(point, coordinates))\r\n      const plannedRoadworks = [...state.hePlanned, ...state.tflPlanned].filter(inDateRange).filter(point => isPointNear(point, coordinates))\r\n      const severeRoadworks = [...state.heIncidents, ...state.tflSevere].filter(inDateRange).filter(point => isPointNear(point, coordinates))\r\n      \r\n      return [...severeRoadworks, ...currentRoadworks, ...plannedRoadworks];\r\n    } else {\r\n      return []\r\n    }\r\n  }, [state.routeCoordinates, state.startDate, state.endDate, state.heCurrent, state.heIncidents, state.hePlanned, state.tflSevere, state.tflPlanned, state.tflCurrent]);\r\n\r\n  // Updating any marker information when the filtered roadworks array changes\r\n  useEffect(() => {\r\n    // Note: This will need to be changed when more than heCurrent is added, a color needs to be passed as well so we can set the appropriate pin colour to be displayed in the route info section, currently is just manually showing orange\r\n    dispatch({ type: ActionType.SET_MARKER_INFO, payload: routeRoadworks });\r\n    console.log(`Found ${routeRoadworks.length} relevant roadworks`)\r\n    dispatch({ type: ActionType.SET_MAP_SPINNER, payload: false })\r\n  }, [dispatch, routeRoadworks])\r\n\r\n  const roadworkMarkers = state.markerInfo.map(roadwork => (\r\n    <Marker key={roadwork.id} point={roadwork} color={getColor(roadwork)} />\r\n  ))\r\n\r\n  return (\r\n    <div className=\"map-window\">\r\n      <Map>\r\n        <RoutingMachine />\r\n        {locationMarker}\r\n        {routeTimePopup}\r\n        {routeFromMarker}\r\n        {routeToMarker}\r\n        {roadworkMarkers}\r\n      </Map>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext, useEffect } from \"react\";\r\nimport AppBar from \"./components/AppBar\";\r\nimport RouteWindow from \"./components/RouteWindow\";\r\nimport MapWindow from \"./components/MapWindow\";\r\nimport { StoreContext, ActionType } from \"./store\";\r\nimport fetchRoadworksData from \"./data\";\r\nimport { useGeolocation } from \"./hooks\";\r\nimport ReactTooltip from \"react-tooltip\";\r\nimport \"./styles/App.css\";\r\nimport \"./styles/Responsive.css\";\r\nimport \"leaflet/dist/leaflet.css\";\r\n\r\nexport default function App() {\r\n  const { dispatch } = useContext(StoreContext);\r\n  // Prompt for geolocation on first component render\r\n  const [location, locationError] = useGeolocation();\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: ActionType.SET_MAP_SPINNER, payload: true })\r\n    fetchRoadworksData().then((data) => {\r\n      dispatch({ type: ActionType.SET_ROADWORKS_DATA, payload: data });\r\n      dispatch({ type: ActionType.SET_MAP_SPINNER, payload: false })\r\n    });\r\n    // React guarantees that dispatch is always the same, so we can put it in the deps array\r\n    // to appease the linter and safely know it will never refire the effect\r\n    // https://reactjs.org/docs/hooks-reference.html#usereducer\r\n  }, [dispatch]);\r\n\r\n  useEffect(() => {\r\n    if (locationError === null && location.length > 0) {\r\n      dispatch({\r\n        type: ActionType.SET_USER_LOCATION,\r\n        payload: location,\r\n      });\r\n    }\r\n    // React guarantees that dispatch is always the same, so we can put it in the deps array\r\n    // to appease the linter and safely know it will never refire the effect\r\n    // https://reactjs.org/docs/hooks-reference.html#usereducer\r\n  }, [dispatch, location, locationError]);\r\n\r\n  return (\r\n    <div className='app-container'>\r\n      <AppBar />\r\n      <ReactTooltip delayShow={500}/>\r\n      <div className=\"App\">\r\n        <RouteWindow />\r\n        <MapWindow />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport function useGeolocation() {\r\n  const [location, setLocation] = React.useState([]);\r\n  const [error, setError] = React.useState(null);\r\n\r\n  React.useEffect(() => {\r\n    if (navigator.geolocation) {\r\n      const options = {\r\n        enableHighAccuracy: true,\r\n        timeout: 15000,\r\n        maximumAge: 0,\r\n      };\r\n\r\n      navigator.geolocation.getCurrentPosition(\r\n        ({ coords }) => setLocation([coords.latitude, coords.longitude]),\r\n        (error) => setError(error),\r\n        options\r\n      );\r\n    } else {\r\n      setError(new Error(\"The browser does not support geolocation\"));\r\n    }\r\n  }, []);\r\n\r\n  return [location, error];\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport { StateProvider } from \"./store\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <StateProvider>\r\n      <App />\r\n    </StateProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);"],"sourceRoot":""}